<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

</head>

<body>
  <main class="container">
    <div class="row">
      <div class="col">
        <% if(book===null) {%>
          <h2>Add new book</h2>
          <%} else {%>
            <h2>Edit book</h2>
            <%}%>
              <form method="POST" class="needs-validation" novalidate>

                <% var value="" ; %>
                  <div class="mb-3">
                    <label for="formFile" class="form-label">Cover image:</label>
                    <input class="form-control" type="file" accept=".jpg,.jpeg,.png" id="inputFile" name="inputFile">
                  </div>
                  <div class="mb-3">
                    <label for="inputTitle">Title:</label>
                    <% if(book !==null) {value="value = " + book.title; } %>
                      <input class="form-control" type="text" id="inputTitle" name="inputTitle" <%=value%> required>
                      <div class="invalid-feedback">
                        Title required.
                      </div>
                  </div>
                  <div class="mb-3">
                    <label for="inputAuthor">Author:</label>
                    <% if(book !==null) {value="value = " + book.author; } %>
                      <input class="form-control" type="text" id="inputAuthor" name="inputAuthor" <%=value%> required>
                      <div class="invalid-feedback">
                        Author required.
                      </div>
                  </div>
                  <div class="mb-3">
                    <label for="selectGenre">Genre:</label>
                    <% if(book !==null) {value="value = " + book.genre; } %>
                      <input class="form-control" type="text" id="inputGenre" name="inputGenre" <%=value%> required>
                      <div class="invalid-feedback">
                        Genre required.
                      </div>
                  </div>
                  <div class="mb-3">
                    <label for="inputPublisher">Publisher:</label>
                    <% if(book !==null) {value="value = " + book.publisher; } %>
                      <input class="form-control" type="text" id="inputPublisher" name="inputPublisher" <%=value%>
                      required>
                      <div class="invalid-feedback">
                        Publisher required.
                      </div>
                  </div>
                  <div class="mb-3">
                    <label for="inputPublicationYear">Publication year:</label>
                    <% if(book !==null) {value="value = " + book.publication_year; } %>
                      <input class="form-control" type="text" id="inputPublicationYear" name="inputPublicationYear"
                        <%=value%> required>
                      <div class="invalid-feedback">
                        Publication year required.
                      </div>
                  </div>
                  <div class="mb-3">
                    <label for="inputDescription">Description:</label>
                    <% if(book !==null) {value=book.description; } %>
                      <textarea class="form-control" id="inputDescription" name="inputDescription" rows="4" required><%=value%></textarea>
                      <div class="invalid-feedback">
                        Description required.
                      </div>
                  </div>
                  <div>
                    <button class="btn btn-dark btn-lg" type="submit">Submit</button>
                  </div>
              </form>
      </div>

    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
    crossorigin="anonymous"></script>
  <script src="scripts/formSubmission.js"></script>

</body>

</html>